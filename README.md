# Django проект магазина продуктов

[![Python](https://img.shields.io/badge/-Python-464646?style=flat&logo=Python&logoColor=56C0C0&color=008080)](https://www.python.org/)
[![Django](https://img.shields.io/badge/-Django-464646?style=flat&logo=Django&logoColor=56C0C0&color=008080)](https://www.djangoproject.com/)
[![Django REST Framework](https://img.shields.io/badge/-Django%20REST%20Framework-464646?style=flat&logo=Django%20REST%20Framework&logoColor=56C0C0&color=008080)](https://www.django-rest-framework.org/)


## Описание проекта 

Тестовое задание.

Первое задание находится в папке task_1.
В ней представлена программа, которая выводит n первых элементов последовательности 122333444455555... (число повторяется столько раз, чему оно равно).

Второе задание представлено в виде API сервиса, предназначенного для просмотра продуктов некоторого магазина, составления продуктовой корзины, подсчета стоимости товаров.

В проекте реализована возможность создания, редактирования, удаления категорий и подкатегорий товаров в админке. Категории и подкатегории имеют наименование, slug-имя, изображение. Подкатегории связаны с родительской категорией. Реализован эндпоинт для просмотра всех категорий с подкатегориями, предусмотрена пагинация.

Реализована возможность добавления, изменения, удаления продуктов в админке. Продукты относятся к определенной подкатегории и, соответственно, категории, имеют наименование, slug-имя, изображение в 3-х размерах, цену. Реализован эндпоинт вывода продуктов с пагинацией. Каждый продукт в выводе имеет поля: наименование, slug, категория, подкатегория, цена, список изображений. Реализован эндпоинт добавления, изменения (изменение количества), удаления продукта в корзине.

Реализован эндпоинт вывода состава корзины с подсчетом количества товаров и суммы стоимости товаров в корзине. Реализована возможность полной очистки корзины.

Операции по эндпоинтам категорий и продуктов может осуществлять любой пользователь. Операции по эндпоинтам корзины может осуществлять только авторизированный пользователь и только со своей корзиной.

Реализована авторизация по токену.


## Запуск проекта локально

- Клонируйте репозиторий и перейдите в него в командной строке:
```
git clone git@github.com:cskovec22/test_sarafan.git
cd test_sarafan
```

- Установите и активируйте виртуальное окружение:

```
python -m venv venv
```

- Для Linux/macOS:

    ```
    source venv/bin/activate
    ```

- Для Windows:

    ```
    source venv/Scripts/activate
    ```

- Установите зависимости из файла requirements.txt:

```
python -m pip install --upgrade pip
pip install -r requirements.txt
```

- Создайте файл .env в папке проекта, пример представлен в файле .env.example  


- Перейдите в папку с файлом manage.py


- Примените миграции:
```
python manage.py makemigrations
python manage.py migrate
```

- Создайте суперпользователя:
```
python manage.py createsuperuser
```

- Запустите проект:
```
python manage.py runserver
```


## Список эндпоинтов API:

- /api/auth/users/ - список пользователей и их регистрация
- /api/auth/users/{id}/ - профиль пользователя
- /api/auth/users/me/ - текущий пользователь
- /api/auth/users/set_password/ - изменение пароля текущего пользователя
- /api/auth/token/login/ - получить токен авторизации
- /api/auth/token/logout/ - удалить токен текущего пользователя
- /api/v1/categories/ - список категорий
- /api/v1/categories/{id}/ - просмотр категории
- /api/v1/subcategories/ - список подкатегорий
- /api/v1/subcategories/{id}/ - просмотр подкатегории
- /api/v1/products/ - список продуктов
- /api/v1/products/{id}/ - просмотр продукта
- /api/v1/shoppingcart/ - просмотр продуктовой корзины
- /api/v1/shoppingcart/add_product/ - добавить продукт в корзину или увеличить его количество
- /api/v1/shoppingcart/remove_product/ - удалить продукт из корзины или уменьшить его количество
- /api/v1/shoppingcart/clear_shopping_cart/ - очистить продуктовую корзину
- /api/v1/shoppingcart/show_total_info/ - вывести общую стоимость и количество продуктов в корзине


Подробную информацию по эндпоинтам API можно посмотреть по адресу:
```
http://localhost/api/redoc/
```

### Автор:  
*Васин Никита*  
**email:** *cskovec22@yandex.ru*  
**telegram:** *@cskovec22*  